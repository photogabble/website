{#
    # Alphabetised listing of items
    Used to display a list of items grouped by the first letter of their titles.

    Variables:
    - `items`: Array of items to be listed.
    - `page`: Current 11ty page object, used to highlight current item.
    - `alphabetSort`: Custom filter to sort items alphabetically by title.

    Used by:
    - src/content/glossary/glossary.11tydata.js
#}
{% set grouped = items | alphabetSort %}

<section class="post-list">
    <ol class="post-list__alphabetised">
        {%- for letter, terms in grouped -%}
            {% if terms.length > 0 %}
                <li id="{{ letter }}">{{ letter }}
                    <ul>
                        {%- for term in terms %}
                            <li>{% if page and page.url === term.url %}Â»{% endif %} <a href="{{ term.url }}">{{ term.data.title }} {%- if term.data.backlinks.length > 0 %} <small>({{ term.data.backlinks.length }})</small>{%- endif %}</a></li>
                        {%- endfor %}
                    </ul>
                </li>
            {% endif %}
        {%- endfor -%}
    </ol>
</section>
